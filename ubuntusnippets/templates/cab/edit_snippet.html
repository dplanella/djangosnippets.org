{% extends "base_index.html" %}

{% block head_title %}Editing "{{ form.instance.title }}"{% endblock %}

{% block content_header %}Editing "{{ form.instance.title }}"{% endblock %}
{% block bodyclass %}snippet-form{% endblock %}
{% load static from staticfiles %}

{% block extra_scripts %}
  <script type="text/javascript">
    $(function() {
      var tag_hint = new Snippets.TagCompletion();
      tag_hint.bind_listener('input#id_q', 'input#id_output');
    });
  </script>
{% endblock %}

{% block content %}
  {% block content_preamble %}{% endblock %}

  <div class="row row-hero no-border no-padding-bottom no-margin-bottom equal-height">
    <h1>Editing "{{ form.instance.title }}"</h1>
    <div class="eight-col">

      {% if form.errors %}
        <p class="error">Please correct the errors below: </p>
      {% endif %}

      <form method="post" action="">{% csrf_token %}

        <fieldset>
          <ul>
            <li>
             <!-- Snippet title -->
             <label for="id_title">Title: {% if form.title.errors %}<span class="error">{{ form.title.errors|join:", " }}</span>{% endif %}</label>
             {{ form.title }}
            </li>

            <li>
             <!-- Snippet code -->
             <label for="id_code">Code: {% if form.code.errors %}<span class="error">{{ form.code.errors|join:", " }}</span>{% endif %}</label>
             {{ form.code }}
            </li>

            <li>
             <!-- Snippet description -->
             <label for="id_description">Description: {% if form.description.errors %}<span class="error">{{ form.description.errors|join:", " }}</span>{% endif %}</label>
             {{ form.description }}
            </li>

            <li>
             <!-- Snippet language -->
             <label for="id_language">Language: {% if form.language.errors %}<span class="error">&nbsp;&nbsp;{{ form.language.errors|join:", " }}</span>{% endif %}</label>
             {{ form.language }}
            </li>

            <li>
             <!-- Snippet version -->
             <label for="id_version">Version: {% if form.version.errors %}<span class="error">&nbsp;&nbsp;{{ form.version.errors|join:", " }}</span>{% endif %}</label>
             {{ form.version }}

            <li>

             <!-- Snippet tags -->
             <label for="id_tags">Tags: {% if form.tags.errors %}<span class="error">{{ form.tags.errors|join:", " }}</span>{% endif %} </label>
              {{ form.tags }}
            </li>
         </ul>
        </fieldset>

        <fieldset class="fieldset-submit">
          <ul>
            <li>
              <input type="submit" value="Save" tabindex="5"> or <a href="{{ request.path }}?cancel=true">cancel</a>
            </li>
          </ul>
        </fieldset>
      </form>
    </div>

	<div class="four-col last-col">
      <div class="box resource box-highlight">
        {% include "_snippet_cheatsheet.html" %}
      </div>
    </div>
  </div>

{% endblock %}