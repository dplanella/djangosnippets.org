{% extends "base_index.html" %}
{% load core_tags %}
{% load url from future %}

{% block head_title %}All tags{% endblock %}
{% block bodyclass %}tags-list{% endblock %}

{% block content %}
<div class="row row-hero no-border no-padding-bottom no-margin-bottom equal-height">
  <h1>{% block content_header %}All tags{% endblock %}</h1>
  <div class="eight-col">

  {% if object_list %}
    <ul class="tags">
    {% for tag in object_list %}
      <li class="tag"><a href="{% url 'cab_snippet_matches_tag' tag.slug %}">{{ tag.name }}</a></li>
    {% endfor %}
    </ul>

    <p class="pagination">{% if has_previous %}<a href="?page={{ previous }}">&lt; Previous {{ results_per_page }}</a>{% endif %}&nbsp;&nbsp;{% if has_next %}<a href="?page={{ next }}">Next {{ results_per_page }} &gt;</a>{% endif %}</p>
  {% else %}
    <p>No tags have been used yet.</p>
  {% endif %}
  </div>

{% endblock %}

{% block sidebar %}
<div class="four-col last-col">
  <h2>Most popular tags</h2>

  <ol>
  {% for tag in "cab.snippet"|call_manager:"top_tags"|slice:":5" %}
    <li><a href="{% url 'cab_snippet_matches_tag' tag.slug %}">{{ tag.name }}</a></li>
  {% endfor %}
  </ol>
</div>
{% endblock %}
</div>